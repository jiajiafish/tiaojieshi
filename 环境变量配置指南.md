# 环境变量配置指南

## 🔐 安全配置说明

为了保护敏感信息，项目已将所有API密钥和配置项移至环境变量中。这样可以在代码中隐藏实际的密钥值。

## 📋 配置步骤

### 1. 创建环境变量文件

在项目根目录下创建 `.env.local` 文件：

```bash
cp .env.example .env.local
```

### 2. 配置环境变量

编辑 `.env.local` 文件，填入你的实际配置：

```env
# 豆包API配置 (必填)
VITE_DOUBAO_API_KEY=你的API密钥
VITE_DOUBAO_API_URL=/api/v3/chat/completions
VITE_DOUBAO_MODEL_NAME=doubao-seed-1-6-flash-250828
VITE_PROXY_TARGET=https://ark.cn-beijing.volces.com

# 应用配置 (可选)
VITE_APP_NAME=家庭矛盾调解小程序
```

### 3. 获取API密钥

1. 访问 [豆包大模型开放平台](https://www.volcengine.com/product/doubao)
2. 注册并创建应用
3. 在控制台获取API密钥
4. 将密钥填入 `VITE_DOUBAO_API_KEY`

## 🚀 运行项目

配置完成后，重新启动开发服务器：

```bash
npm run dev
```

## 🔍 验证配置

项目启动时会自动验证配置：
- ✅ 如果配置了有效的API密钥，将使用真实的AI服务
- ⚠️ 如果未配置API密钥，将使用模拟数据（功能正常，但不是真实AI分析）

## 🔒 安全建议

1. **不要提交敏感信息**：`.env.local` 文件已加入 `.gitignore`，不会被提交到代码仓库
2. **定期更换密钥**：建议定期更换API密钥
3. **使用不同的环境**：可以为开发、测试、生产环境配置不同的密钥

## 📁 文件结构

```
src/
├── config/
│   └── index.ts          # 配置管理中心
├── services/
│   └── aiAnalysis.ts     # AI分析服务（已移除硬编码密钥）
└── ...
```

## ❓ 常见问题

**Q: 不配置API密钥能用吗？**
A: 可以！项目会自动使用模拟数据，功能完全正常，只是不是真实的AI分析结果。

**Q: 配置后没效果？**
A: 请检查：
1. 是否正确创建了 `.env.local` 文件
2. 是否重启了开发服务器
3. API密钥是否有效

**Q: 环境变量命名规则？**
A: Vite要求环境变量必须以 `VITE_` 开头，否则无法在前端代码中访问。